
<!-- saved from url=(0057)http://testng.org/doc/selenium.html#configuration_methods -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
        <title>TestNG</title>

        <link rel="stylesheet" href="./TestNG-configure_files/testng.css" type="text/css">
        <link type="text/css" rel="stylesheet" href="./TestNG-configure_files/beust.css">
        <script type="text/javascript" src="./TestNG-configure_files/banner.js"></script>

      <script type="text/javascript" src="./TestNG-configure_files/shCore.js"></script>
      <script type="text/javascript" src="./TestNG-configure_files/shBrushJava.js"></script>
      <script type="text/javascript" src="./TestNG-configure_files/shBrushXml.js"></script>
      <script type="text/javascript" src="./TestNG-configure_files/shBrushBash.js"></script>
      <script type="text/javascript" src="./TestNG-configure_files/shBrushPlain.js"></script>
      <link type="text/css" rel="stylesheet" href="./TestNG-configure_files/shCore.css">
      <link type="text/css" rel="stylesheet" href="./TestNG-configure_files/shThemeCedric.css">
      <script type="text/javascript">
        SyntaxHighlighter.config.clipboardSwf = 'scripts/clipboard.swf';
        SyntaxHighlighter.defaults['gutter'] = false;
        SyntaxHighlighter.all();
      </script>

        <style type="text/css">
            /* Set the command-line table option column width. */
            #command-line colgroup.option {
                 width: 7em;
            }
        </style>
    </head>
<body onload="prettyPrint()">

<script type="text/javascript">
    displayMenu("selenium.html")
</script><div id="topmenu">
    <table width="100%">
            <tbody><tr>
                <td><a href="http://testng.org/doc/index.html">Welcome</a></td>
                <td><a href="http://testng.org/doc/download.html">Download</a></td>
                <td><a href="http://testng.org/doc/documentation-main.html">Documentation</a></td>
                <td><a href="http://testng.org/doc/migrating.html">Migrating from JUnit</a></td>
                <td><a href="http://testng.org/javadocs/index.html">JavaDoc</a></td>
                <td class="current"><a href="http://testng.org/doc/selenium.html">Selenium</a></td>
            </tr>
            <tr>
                <td><a href="http://testng.org/doc/eclipse.html">Eclipse</a></td>
                <td><a href="http://testng.org/doc/idea.html">IDEA</a></td>
                <td><a href="http://testng.org/doc/maven.html">Maven</a></td>
                <td><a href="http://testng.org/doc/ant.html">Ant</a></td>
                <td><a href="http://testng.org/doc/misc.html">Miscellaneous</a></td>
                <td><a href="http://testng.org/doc/book.html">Book</a></td>
            </tr>
        </tbody></table>
    </div>


<h2 align="center">Selenium and TestNG</h2>

<em>This documentation was written by Felipe Knorr Kuhn and is adapted from <a href="http://knorrium.info/2010/08/31/using-testng-to-launch-your-tests-and-the-selenium-server/">a series of articles</a> posted on <a href="http://knorrium.info/">his blog</a></em>.


<h3>Content</h3>

<ol>
  <li><a href="http://testng.org/doc/selenium.html#modeling">How to use TestNG configuration methods with parameters</a>
  </li><li><a href="./TestNG-configure_files/TestNG-configure.htm">How to configure your test</a>
  </li><li><a href="http://testng.org/doc/selenium.html#creating_xml">Creating the XML file for TestNG</a>
  </li><li><a href="http://testng.org/doc/selenium.html#launching">Lauching your tests with Eclipse</a>
  </li><li><a href="http://testng.org/doc/selenium.html#future">How to make the test design a little better for the future</a>
</li></ol>

<h3><a name="#modeling">Modeling your test case</a></h3>

<p>Before writing a test case, you need to know how and what will be validated. Let's use the WordPress <a href="http://knorrium.info/2010/05/19/a-java-approach-to-selenium">"Create New Post" test case</a>.

</p><ol>
  
  <li>Go to <a href="http://demo.opensourcecms.com/wordpress/wp-login.php">http://demo.opensourcecms.com/wordpress/wp-login.php</a>
  </li><li>Enter "admin" in the "Username" field
  </li><li>Enter "demo123" in the "Password" field
  </li><li>Click on the "Log In" button
  </li><li>Verify that the text "Howdy, admin" is present
  </li><li>Click on the "Posts" link
  </li><li>Click on the "Add New" button
  </li><li>Type "Selenium Demo Post" in the title field
  </li><li>Click on the "Publish" button
  </li><li> Verify that the text "Post published" is present

</li></ol>

<p>Considering this scenario, the first thing that comes to mind is creating a long test case that goes through all the steps. This might be a good approach if you are writing a manual test case. However, since we are writing an automated test, we want to write our script as modular as possible to be able to reuse parts of it in future scenarios.</p>

<p>This is how I would break down the test:</p>

<ol>
  <li>Launch the WordPress site
  </li><li>Open the Admin Login page
  </li><li>Enter valid login data
  </li><li>Navigate to the Write Post page
  </li><li>Write the post
  </li><li>Publish the post
  </li><li>Verify that it was actually post
</li></ol>

<p>Keep in mind that this is just an example. You are free to model your tests in any way you want, as long as they have business value and will validate your business logic.</p> 
<p>Let's see how to do that with actual Java code:</p>

<div id="highlighter_430296" class="syntaxhighlighter nogutter  "><div class="bar                              "><div class="toolbar"><a href="http://testng.org/doc/selenium.html#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_430296_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_430296" menu="false" src="scripts/clipboard.swf"></div><a href="http://testng.org/doc/selenium.html#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://testng.org/doc/selenium.html#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="content"><code class="color1">@Test</code><code class="plain">(description=</code><code class="string">"Launches the WordPress site"</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">launchSite(){</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">selenium.open(</code><code class="string">""</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">selenium.waitForPageToLoad(</code><code class="string">"30000"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">assertEquals(selenium.getTitle(), </code><code class="string">"Demo | Just another WordPress site"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="color1">@Test</code><code class="plain">(description=</code><code class="string">"Navigates to the admin page"</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">openAdminPage() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">selenium.open(</code><code class="string">"wp-admin"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">selenium.waitForPageToLoad(</code><code class="string">"30000"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">assertEquals(selenium.getTitle(), </code><code class="string">"Demo â€º Log In"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="color1">@Test</code><code class="plain">(description=</code><code class="string">"Enters valid login data"</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">loginAsAdmin() {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">selenium.type(</code><code class="string">"user_login"</code><code class="plain">, </code><code class="string">"admin"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">selenium.type(</code><code class="string">"user_pass"</code><code class="plain">, </code><code class="string">"demo123"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">selenium.click(</code><code class="string">"wp-submit"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">selenium.waitForPageToLoad(</code><code class="string">"30000"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">assertTrue(selenium.isTextPresent(</code><code class="string">"Howdy, admin"</code><code class="plain">));</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="color1">@Test</code><code class="plain">(description=</code><code class="string">"Navigates to the New Post screen"</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">navigateNewPost() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">selenium.click(</code><code class="string">"//a[contains(text(),'Posts')]/following::a[contains(text(),'Add New')][1]"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">selenium.waitForPageToLoad(</code><code class="string">"30000"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">assertTrue(selenium.isTextPresent(</code><code class="string">"Add New Post"</code><code class="plain">));</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="color1">@Test</code><code class="plain">(description=</code><code class="string">"Writes the new post"</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">writeBlogPost() {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">selenium.type(</code><code class="string">"title"</code><code class="plain">, </code><code class="string">"New Blog Post"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">selenium.click(</code><code class="string">"edButtonHTML"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">selenium.type(</code><code class="string">"content"</code><code class="plain">, </code><code class="string">"This is a new post"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="comments">//TODO:Assert</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="color1">@Test</code><code class="plain">(description=</code><code class="string">"Publishes the post"</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">publishBlogPost() {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">selenium.click(</code><code class="string">"submitdiv"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">selenium.click(</code><code class="string">"publish"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">selenium.waitForPageToLoad(</code><code class="string">"30000"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">assertTrue(selenium.isTextPresent(</code><code class="string">"Post published."</code><code class="plain">));</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="color1">@Test</code><code class="plain">(description=</code><code class="string">"Verifies the post"</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">verifyBlogPost() {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">selenium.click(</code><code class="string">"//a[contains(text(),'Posts') and contains(@class,'wp-first-item')]"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">selenium.waitForPageToLoad(</code><code class="string">"30000"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">assertTrue(selenium.isElementPresent(</code><code class="string">"//a[text()='New Blog Post']"</code><code class="plain">));</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="color1">@Test</code><code class="plain">(description=</code><code class="string">"Logs out"</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">logout() {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">selenium.click(</code><code class="string">"//a[text()='Log Out']"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="comments">//TODO:Assert</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div>

<p>These are the test methods (or steps) we are going to use.

</p><h3><a name="configuration_methods">Configuration methods</a></h3>

<p>If you are familiar with unit testing frameworks, you probably know about the setup and teardown methods. TestNG goes beyond that idea and allows you to define methods that will be run after or before your test suites, test groups or test methods. This is very useful for our Selenium tests because you can create a Selenium server and browser instance before you start running your test suite.)</p>

<p>To achieve this, we will use two TestNG <a href="http://testng.org/doc/documentation-main.html#annotations">annotations</a>: <tt>@BeforeSuite</tt> and <tt>@AfterSuite</tt>:</p>

<div id="highlighter_713363" class="syntaxhighlighter nogutter  "><div class="bar                     "><div class="toolbar"><a href="http://testng.org/doc/selenium.html#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_713363_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_713363" menu="false" src="scripts/clipboard.swf"></div><a href="http://testng.org/doc/selenium.html#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://testng.org/doc/selenium.html#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="content"><code class="color1">@BeforeSuite</code><code class="plain">(alwaysRun = </code><code class="keyword">true</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">setupBeforeSuite(ITestContext context) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">String seleniumHost = context.getCurrentXmlTest().getParameter(</code><code class="string">"selenium.host"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">String seleniumPort = context.getCurrentXmlTest().getParameter(</code><code class="string">"selenium.port"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">String seleniumBrowser = context.getCurrentXmlTest().getParameter(</code><code class="string">"selenium.browser"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">String seleniumUrl = context.getCurrentXmlTest().getParameter(</code><code class="string">"selenium.url"</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">RemoteControlConfiguration rcc = </code><code class="keyword">new</code> <code class="plain">RemoteControlConfiguration();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">rcc.setSingleWindow(</code><code class="keyword">true</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">rcc.setPort(Integer.parseInt(seleniumPort));</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="keyword">try</code> <code class="plain">{</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">server = </code><code class="keyword">new</code> <code class="plain">SeleniumServer(</code><code class="keyword">false</code><code class="plain">, rcc);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">server.boot();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">} </code><code class="keyword">catch</code> <code class="plain">(Exception e) {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">throw</code> <code class="keyword">new</code> <code class="plain">IllegalStateException(</code><code class="string">"Can't start selenium server"</code><code class="plain">, e);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">proc = </code><code class="keyword">new</code> <code class="plain">HttpCommandProcessor(seleniumHost, Integer.parseInt(seleniumPort),</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">seleniumBrowser, seleniumUrl);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">selenium = </code><code class="keyword">new</code> <code class="plain">DefaultSelenium(proc);</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">selenium.start();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;</code>&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="color1">@AfterSuite</code><code class="plain">(alwaysRun = </code><code class="keyword">true</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">setupAfterSuite() {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">selenium.stop();</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">server.stop();</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div>

<p>PS: Did you notice those weird parameters? They are stored in the XML file (we are going to see in the next section) and accessed by a <tt>ITestContext</tt> object, which was <a href="http://testng.org/doc/documentation-main.html#dependency-injection">injected</a>. </p>

<p>By adding these annotations, the TestNG engine will invoke the configuration methods automatically before/after your test suite (make sure the test methods are annotated with <tt>@Test</tt>), launching the Selenium server and instantiating the Selenium client object only once, reusing the same browser session across the tests.</p>

<h3><a name="creating_xml">Creating the XML file</a></h3>

<p>To define the order of the tests, we will have to create an XML file listing the test methods we would like to run. Make sure that the test methods are annotated with <tt>@Test</tt>, or else the TestNG engine will not invoke them.</p>

<p>Before TestNG 5.13.1, you had to use Method Interceptors if you wanted to run the tests in the order defined in the XML file. I have posted <a href="http://gist.github.com/416310">my implementation of a Method Interceptor</a> on my Github account. From TestNG 5.13.1+, you can just add the <tt>preserve-order</tt> parameter to your test tag and include the methods you would like to run, reducing unecessary code in your test suite.</p>

<p>Here is the XML file:</p>

<div id="highlighter_286585" class="syntaxhighlighter nogutter  "><div class="bar         "><div class="toolbar"><a href="http://testng.org/doc/selenium.html#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_286585_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_286585" menu="false" src="scripts/clipboard.swf"></div><a href="http://testng.org/doc/selenium.html#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://testng.org/doc/selenium.html#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="content"><code class="plain">&lt;</code><code class="keyword">suite</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"Knorrium.info - Wordpress Demo"</code> <code class="color1">verbose</code><code class="plain">=</code><code class="string">"10"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">parameter</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"selenium.host"</code> <code class="color1">value</code><code class="plain">=</code><code class="string">"localhost"</code> <code class="plain">/&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">parameter</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"selenium.port"</code> <code class="color1">value</code><code class="plain">=</code><code class="string">"3737"</code> <code class="plain">/&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">parameter</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"selenium.browser"</code> <code class="color1">value</code><code class="plain">=</code><code class="string">"*firefox"</code> <code class="plain">/&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">parameter</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"selenium.url"</code> <code class="color1">value</code><code class="plain">=</code><code class="string">"<a href="http://demo.opensourcecms.com/wordpress/">http://demo.opensourcecms.com/wordpress/</a>"</code> <code class="plain">/&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">test</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"Write new post"</code> <code class="color1">preserve-order</code><code class="plain">=</code><code class="string">"true"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">classes</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">class</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"test.Wordpress"</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">methods</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">include</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"launchSite"</code> <code class="plain">/&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">include</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"openAdminPage"</code> <code class="plain">/&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">include</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"loginAsAdmin"</code> <code class="plain">/&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">include</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"navigateNewPost"</code> <code class="plain">/&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">include</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"writeBlogPost"</code> <code class="plain">/&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">include</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"publishBlogPost"</code> <code class="plain">/&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">include</code> <code class="color1">name</code><code class="plain">=</code><code class="string">"verifyBlogPost"</code> <code class="plain">/&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">methods</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">class</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">classes</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">test</code><code class="plain">&gt;</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="plain">&lt;/</code><code class="keyword">suite</code><code class="plain">&gt;</code></td></tr></tbody></table></div></div></div>

<h3><a name="launching">Launching your tests in Eclipse</a></h3>

<p>We finished writing our tests, now how can we run them?</p> 
<p>You can launch TestNG from the command line, using a Eclipse plugin or even programatically. We are going to use the Eclipse plugin. Follow the steps described on the official TestNG documentation <a href="http://testng.org/doc/download.html">over here</a></p>

<p>If you installed TestNG correctly, you will see this menu when you right click on the XML file:<br>

</p><p align="center">
  <a href="./TestNG-configure_files/testNG-run.png">
    <img src="./TestNG-configure_files/testNG-run.png" alt="" title="testNG-run" width="464" height="59" class="aligncenter size-full wp-image-19">
</a>
</p>

<p>Click on “Run as TestNG Suite” and your test will start running. You will then see this nice results tree:</p>

<p align="center">
  <a href="./TestNG-configure_files/testNG-exec.png">
    <img src="./TestNG-configure_files/testNG-exec.png" alt="" title="testNG-exec" width="591" height="256" class="aligncenter size-full wp-image-20"></a>
</p>

<h3><a name="future">Thinking about the future</a></h3>


<p>If you really want to think about the future of your test suite, I would recommend you to read <a href="http://adam.goucher.ca/">Adam</a> <a href="http://twitter.com/adamgoucher">Goucher’s</a> <a href="http://www.pragprog.com/magazines">article</a> published on PragPub. He talks about Selenium 2 and the Page Objects Model (a very nice way to model your tests, especially if you use Selenium 2).</p>

<p>Since there are lots of people still using Selenium 1, I'll stick to that for a while, but Selenium 2 will eventually be covered here.</p>

<p>As the number of tests in your test suite grows, you will find that grouping them in different test classes is a good idea. If you do that, you can take advantage of object oriented programming and create a new class named BaseTest (for example), and leave your configuration logic there. That way, every test class must extend the BaseTest class and use static attributes.</p>


<div id="highlighter_703207" class="syntaxhighlighter nogutter  "><div class="bar"><div class="toolbar"><a href="http://testng.org/doc/selenium.html#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_703207_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_703207" menu="false" src="scripts/clipboard.swf"></div><a href="http://testng.org/doc/selenium.html#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://testng.org/doc/selenium.html#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="content"><code class="keyword">public</code> <code class="keyword">class</code> <code class="plain">WordPressAdmin </code><code class="keyword">extends</code> <code class="plain">BaseTest {</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="color1">@Test</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">test1(){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">selenium.open(</code><code class="string">""</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="comments">//...</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content">&nbsp;</td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="color1">@Test</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="keyword">public</code> <code class="keyword">void</code> <code class="plain">test2(){</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="plain">selenium.open(</code><code class="string">""</code><code class="plain">);</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="spaces">&nbsp;&nbsp;</code><code class="comments">//...</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="content"><code class="plain">}</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div>

<p>This is better than leaving your configuration methods in the test class.</p>


</body></html>